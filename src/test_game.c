#include "game_intern.h"
#include <assert.h>
#include <stdio.h>

void test_get_n_rows() {
	new_game(3,3,3,2);
	assert(get_n_rows() == 3);
	end_game();
	new_game(1,5,3,2);
	assert(get_n_rows() == 1);
	end_game();
	new_game(9,1,3,2);
	assert(get_n_rows() == 9);
	end_game();
	new_game(8,7,3,2);
	assert(get_n_rows() == 8);
	end_game();
	printf("get_n_rows OK.\n");
}

void test_get_n_cols() {
	new_game(3,3,3,2);
	assert(get_n_cols() == 3);
	end_game();
	new_game(1,5,3,2);
	assert(get_n_cols() == 5);
	end_game();
	new_game(1,9,3,2);
	assert(get_n_cols() == 9);
	end_game();
	new_game(7,7,3,2);
	assert(get_n_cols() == 7);
	end_game();
	printf("get_n_cols OK.\n");
}

void test_set() {
	new_game(5,7,3,2);
	assert(set(0,0,1) == 0);
	assert(board[0][0] == 1);
	assert(set(0,0,2) == -1);
	assert(board[0][0] == 1);
	assert(set(0,3,1) == 0);
	assert(board[0][3] == 1);
	assert(set(3,5,4) == 0);
	assert(board[3][5] == 4);
	assert(set(6,0,1) == -1);
	end_game();
	printf("set OK.\n");
}

void test_check_rows() {
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,0); set(1,1,0); set(1,2,0);
	set(2,0,0); set(2,1,2); set(2,2,2);
	assert(check_rows() == 2);
	end_game();
	new_game(3,3,2,2);
	set(0,0,1); set(0,1,1); set(0,2,0);
	set(1,0,0); set(1,1,0); set(1,2,0);
	set(2,0,0); set(2,1,0); set(2,2,2);
	assert(check_rows() == 1);
	end_game();
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,0); set(1,1,0); set(1,2,2);
	set(2,0,0); set(2,1,0); set(2,2,2);
	assert(check_rows() == 0);
	end_game();
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,2); set(1,1,0); set(1,2,0);
	set(2,0,0); set(2,1,2); set(2,2,0);
	assert(check_rows() == 0);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,0); set(1,1,0); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,0); set(2,2,2); set(2,3,0); set(2,4,0);
	set(3,0,0); set(3,1,0); set(3,2,0); set(3,3,0); set(3,4,0);
	set(4,0,0); set(4,1,1); set(4,2,1); set(4,3,1); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,0); set(5,3,0); set(5,4,0);
	assert(check_rows() == 1);
	end_game();
	new_game(5,6,3,4);
	set(0,0,1); set(0,1,2); set(0,2,3); set(0,3,4); set(0,4,1);
	set(1,0,2); set(1,1,3); set(1,2,4); set(1,3,1); set(1,4,2);
	set(2,0,3); set(2,1,4); set(2,2,4); set(2,3,4); set(2,4,1);
	set(3,0,4); set(3,1,3); set(3,2,2); set(3,3,1); set(3,4,1);
	set(4,0,2); set(4,1,1); set(4,2,1); set(4,3,1); set(4,4,1);
	set(5,0,4); set(5,1,2); set(5,2,2); set(5,3,1); set(5,4,2);
	assert(check_rows() == 4);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,0); set(1,1,0); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,1); set(2,2,2); set(2,3,1); set(2,4,0);
	set(3,0,0); set(3,1,0); set(3,2,1); set(3,3,1); set(3,4,0);
	set(4,0,0); set(4,1,0); set(4,2,1); set(4,3,1); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,0); set(5,3,0); set(5,4,0);
	assert(check_rows() == 0);
	end_game();
	printf("check_rows OK.");
}

void test_check_cols() {
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,0); set(1,1,2); set(1,2,0);
	set(2,0,0); set(2,1,2); set(2,2,0);
	assert(check_cols() == 2);
	end_game();
	new_game(3,3,2,2);
	set(0,0,2); set(0,1,1); set(0,2,0);
	set(1,0,0); set(1,1,1); set(1,2,0);
	set(2,0,0); set(2,1,0); set(2,2,2);
	assert(check_cols() == 1);
	end_game();
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,0); set(1,1,0); set(1,2,0);
	set(2,0,0); set(2,1,2); set(2,2,2);
	assert(check_cols() == 0);
	end_game();
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,2); set(1,1,0); set(1,2,0);
	set(2,0,0); set(2,1,2); set(2,2,0);
	assert(check_cols() == 0);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,1); set(1,1,1); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,4); set(2,2,2); set(2,3,2); set(2,4,0);
	set(3,0,0); set(3,1,4); set(3,2,0); set(3,3,0); set(3,4,0);
	set(4,0,0); set(4,1,4); set(4,2,1); set(4,3,1); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,0); set(5,3,0); set(5,4,0);
	assert(check_cols() == 1);
	end_game();
	new_game(5,6,3,4);
	set(0,0,1); set(0,1,2); set(0,2,3); set(0,3,4); set(0,4,1);
	set(1,0,2); set(1,1,3); set(1,2,4); set(1,3,1); set(1,4,2);
	set(2,0,3); set(2,1,4); set(2,2,4); set(2,3,4); set(2,4,3);
	set(3,0,4); set(3,1,3); set(3,2,2); set(3,3,1); set(3,4,3);
	set(4,0,2); set(4,1,1); set(4,2,1); set(4,3,2); set(4,4,3);
	set(5,0,4); set(5,1,2); set(5,2,2); set(5,3,1); set(5,4,2);
	assert(check_cols() == 3);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,0); set(1,1,0); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,1); set(2,2,2); set(2,3,1); set(2,4,0);
	set(3,0,0); set(3,1,0); set(3,2,1); set(3,3,0); set(3,4,0);
	set(4,0,0); set(4,1,0); set(4,2,1); set(4,3,1); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,2); set(5,3,2); set(5,4,0);
	assert(check_cols() == 0);
	end_game();
	printf("check_cols OK.");
}

void test_check_diags() {
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,0); set(1,1,2); set(1,2,0);
	set(2,0,0); set(2,1,0); set(2,2,2);
	assert(check_diags() == 2);
	end_game();
	new_game(3,3,2,2);
	set(0,0,2); set(0,1,0); set(0,2,0);
	set(1,0,1); set(1,1,1); set(1,2,0);
	set(2,0,0); set(2,1,1); set(2,2,0);
	assert(check_diags() == 1);
	end_game();
	new_game(3,3,2,2);
	set(0,0,2); set(0,1,1); set(0,2,0);
	set(1,0,1); set(1,1,1); set(1,2,0);
	set(2,0,0); set(2,1,0); set(2,2,0);
	assert(check_diags() == 1);
	end_game();
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,0); set(1,1,2); set(1,2,0);
	set(2,0,0); set(2,1,2); set(2,2,2);
	assert(check_diags() == 0);
	end_game();
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,1); set(1,1,0); set(1,2,0);
	set(2,0,1); set(2,1,2); set(2,2,0);
	assert(check_diags() == 0);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,1); set(1,1,1); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,4); set(2,2,2); set(2,3,2); set(2,4,0);
	set(3,0,0); set(3,1,4); set(3,2,4); set(3,3,0); set(3,4,0);
	set(4,0,0); set(4,1,4); set(4,2,1); set(4,3,4); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,0); set(5,3,0); set(5,4,0);
	assert(check_diags() == 4);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,1); set(1,1,1); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,4); set(2,2,2); set(2,3,4); set(2,4,0);
	set(3,0,0); set(3,1,4); set(3,2,4); set(3,3,0); set(3,4,0);
	set(4,0,0); set(4,1,4); set(4,2,1); set(4,3,3); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,0); set(5,3,0); set(5,4,0);
	assert(check_diags() == 4);
	end_game();
	new_game(5,6,3,4);
	set(0,0,1); set(0,1,2); set(0,2,3); set(0,3,4); set(0,4,1);
	set(1,0,2); set(1,1,3); set(1,2,4); set(1,3,1); set(1,4,2);
	set(2,0,3); set(2,1,4); set(2,2,4); set(2,3,4); set(2,4,3);
	set(3,0,4); set(3,1,3); set(3,2,2); set(3,3,1); set(3,4,3);
	set(4,0,2); set(4,1,1); set(4,2,1); set(4,3,2); set(4,4,3);
	set(5,0,4); set(5,1,2); set(5,2,2); set(5,3,1); set(5,4,2);
	assert(check_diags() == 2);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,0); set(1,1,0); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,1); set(2,2,2); set(2,3,1); set(2,4,0);
	set(3,0,0); set(3,1,0); set(3,2,2); set(3,3,2); set(3,4,2);
	set(4,0,0); set(4,1,0); set(4,2,1); set(4,3,1); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,2); set(5,3,2); set(5,4,0);
	assert(check_diags() == 0);
	end_game();
	printf("check_diags OK.");
}

void test_check() {
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,0); set(1,1,2); set(1,2,0);
	set(2,0,0); set(2,1,0); set(2,2,2);
	assert(check() == 2);
	end_game();
	new_game(3,3,2,2);
	set(0,0,2); set(0,1,1); set(0,2,0);
	set(1,0,0); set(1,1,1); set(1,2,0);
	set(2,0,0); set(2,1,1); set(2,2,0);
	assert(check() == 1);
	end_game();
	new_game(3,3,2,2);
	set(0,0,0); set(0,1,0); set(0,2,0);
	set(1,0,0); set(1,1,1); set(1,2,0);
	set(2,0,0); set(2,1,2); set(2,2,2);
	assert(check() == 2);
	end_game();
	new_game(3,3,2,2);
	set(0,0,2); set(0,1,1); set(0,2,2);
	set(1,0,0); set(1,1,0); set(1,2,0);
	set(2,0,1); set(2,1,2); set(2,2,1);
	assert(check() == 0);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,1); set(1,1,1); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,4); set(2,2,2); set(2,3,2); set(2,4,0);
	set(3,0,0); set(3,1,4); set(3,2,2); set(3,3,0); set(3,4,0);
	set(4,0,0); set(4,1,4); set(4,2,1); set(4,3,4); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,0); set(5,3,0); set(5,4,0);
	assert(check() == 4);
	end_game();
	new_game(5,6,3,4);
	set(0,0,1); set(0,1,2); set(0,2,1); set(0,3,4); set(0,4,1);
	set(1,0,2); set(1,1,3); set(1,2,4); set(1,3,1); set(1,4,2);
	set(2,0,3); set(2,1,1); set(2,2,4); set(2,3,4); set(2,4,3);
	set(3,0,4); set(3,1,3); set(3,2,2); set(3,3,1); set(3,4,1);
	set(4,0,2); set(4,1,1); set(4,2,1); set(4,3,2); set(4,4,3);
	set(5,0,4); set(5,1,2); set(5,2,2); set(5,3,1); set(5,4,2);
	assert(check() == 2);
	end_game();
	new_game(5,6,3,4);
	set(0,0,0); set(0,1,0); set(0,2,0); set(0,3,0); set(0,4,0);
	set(1,0,0); set(1,1,0); set(1,2,0); set(1,3,0); set(1,4,0);
	set(2,0,0); set(2,1,1); set(2,2,2); set(2,3,1); set(2,4,0);
	set(3,0,0); set(3,1,0); set(3,2,3); set(3,3,2); set(3,4,2);
	set(4,0,0); set(4,1,0); set(4,2,1); set(4,3,1); set(4,4,0);
	set(5,0,0); set(5,1,2); set(5,2,3); set(5,3,2); set(5,4,0);
	assert(check() == 0);
	end_game();
	printf("check OK.");
}
